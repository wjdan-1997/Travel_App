var Client=function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";async function o(e){let t=document.getElementById("start").value,n=document.getElementById("end").value,o=new Date,a=new Date(t),i=new Date(n),r=a.getTime()-o.getTime(),c=t,l=n,s=Math.round(r/864e5);if(a<o||i<o)return alert("Please Enter a Valid Date For Travel, Thanks!"),!1;if(a>o)return!0;console.log("You travel Time True");const d=document.querySelector("main"),u=document.createElement("div");u.setAttribute("class","final_result"),d.appendChild(u);const h=document.querySelector(".final_result"),m=e.CityName,p=await fetch(`https://pixabay.com/api/?key=19520465-cdac67a723e8d1376760718ba&q=${m}&city&image_type=photo`),y=await p.json();console.log("looll:",y),h.innerHTML=`    \n    <div class="container_pic">\n    <div class="co_box">\n\n    <div class="pic">\n    <h1>Trip in:</h1> \n    <h1>${e.CityName}</h1>\n    </div>\n\n    <div class="pic">\n    <h1>Today Date:</h1>\n    <h1>${e.dateTime}</h1>\n    </div>\n\n    <div class="pic">\n    <h1>Booking Date:</h1>\n    <h1>${e.booking}</h1>\n    </div>\n\n     <div id="pic">\n     <h1>Difference Between Days: ${s} </h1>\n     </div>\n\n     <div id="dest_date">\n    <h1>Trip</h1>\n    <h1>From: ${c} To: ${l}</h1>\n    </div>\n\n    <div class="pic">\n    <h1>Weather Today:</h1>\n    <h1>${e.weather}</h1>\n    </div>\n\n    <div class="pic">\n    <h1>Temperature In The City:</h1>\n    <h1>${e.temp}</h1>\n    </div>\n\n    <div class="pic">\n    <h1>Countrt Code:</h1>\n    <h1>${e.country_code}</h1>\n    </div> \n\n    <div class="pic">\n    <h1>Time Zone:</h1>\n    <h1>${e.zone}</h1>\n    </div>\n    <img class="img" src="${y.hits[0].webformatURL}"/>      \n\n</div>\n\n</div>\n    \n    `}n.r(t),n.d(t,"handleSubmit",(function(){return i})),n.d(t,"update_picture",(function(){return o})),n.d(t,"EventListener",(function(){return a}));const a=document.getElementById("submit").addEventListener("click",(e=>{i(e)}));function i(e){e.preventDefault();let t=document.getElementById("city").value;console.log("Form Input",t);let n=document.getElementById("start").value;""!==t?r(c,t,l,s).then((e=>{console.log("check if data here to use ! ",e);const t={lat:e.geonames[0].lat,long:e.geonames[0].lng};return console.log(t),t})).then((e=>(async(e,t)=>{const n=await fetch(`${m}&lat=${e}&lon=${t}&key=${p}`);console.log("weather_URL:",n);const o=await n.json();return console.log("weather RES:",o),o})(e.lat,e.long))).then((e=>async function(e,t){const n=await fetch(e,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({city:t.form_city,booking:t.start_date,dateTime:t.datetime,country_code:t.code,timezone:t.zone,weather:t.weather,temp:t.temp})}),o=await n.json();return console.log("The response from weather: ",o),o}("http://127.0.0.1:8070/api",{form_city:t,start_date:n,datetime:e.data[0].datetime,code:e.country_code,zone:e.timezone,weather:e.data[0].weather.description,temp:e.data[0].temp}))).then((e=>((async e=>{const t=e.CityName,n=await fetch(`${d}key=${u}&q=${t}${h}`);try{const e=await n.json();console.log("photo pic URL:",e)}catch(e){console.log("error : ",e)}})(e),console.log("pleas show me pic i want be sure",e),e))).then((e=>{o(e)})):alert("Please enter a valid city name.: EX Riyadh")}const r=async function(e,t,n,o){var a=document.getElementById("city").value;const i=await(await fetch(`${c}${a}${l}${s}`)).json();return console.log("City_URL:",i),i},c="http://api.geonames.org/searchJSON?maxRows=1&q=",l="&username=",s="wejdan",d="https://pixabay.com/api/?",u="19520465-cdac67a723e8d1376760718ba",h="&city&image_type=photo",m="https://api.weatherbit.io/v2.0/forecast/daily?",p="7ae347ac8b7d4ae6acc1ace0aba53da3";n.p}]);